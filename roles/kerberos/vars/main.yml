---
# vars file for kerberos

#build from source code
build_from_src: yes #This variable determines whether the kerberos will be installed as packages or built from source
ver: '1.20' #Will be applicable if build_from_src is true

#kdc config
kdc:
  ports: 88
  preauth_challenge: edwards25519
  host: dns

#realms config
realms:
  domain: private.net
  subdomain: kdc
  #master_key: #default value 'K/M'
  #db_location: #default dir /var/kerberos/krb5kdc. Final db file created will be {{ db_location }}/{{ realms.domain }}.db
  master_pass: !vault |
    $ANSIBLE_VAULT;1.1;AES256
    35636262393532323238646165393831396230383531623665623132383139363963393433643265
    3232633162653264333966616435626236303236656535620a336565386134643830333232616439
    37376338623165333039626632323531636663386532383031326634623530323139363833333031
    6432343663316166650a626562383131333463626530386333363231323762633939313738646635
    31613064313033656461613932376634666634363162396138613838366130643062
  root_principal: kerberos
  root_principal_pass: !vault |
    $ANSIBLE_VAULT;1.1;AES256
    32313534336332386661333261663133643462383763313462396361303035363161613132313231
    3939653934666464393666336638646265396331346266340a386537353636396234656238613032
    64353330633465303133363664393465633736373134396337636439613165363133393836343833
    3737663864313230380a366461303934346464373233366632363239616461633135623936613930
    3865
  policies:
    - users
    - hosts
    - admin

#principals management
principals:    
  - name: alice
    type: user
    pass: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      66633961323435353231653133666434353836623565383033613035366435616465356237366337
      3937366663373466326561303736343336623336646338350a326132616534333166393964313036
      34323463626639613864633336346461373264306630346262663637306165643861653635333435
      3765393465393730660a363935363732306130323037343136316462383538333334323137303762
      6231
  - name: bob
    type: user
    pass: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      39323933396438363566643338333961336339623564333230393131356565616164356631366430
      3261356634313166663437313564656133313663653761390a653961383133333633393265623933
      38613564623934653233373665393866323962303639353663386637616232313265316539663137
      3266633132613536650a353633376231623830643936313131633066613532383331336433626237
      3436
  - name: charlie
    type: user
    pass: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      61666538323431336138323837373264393435633333343638356261383334303061623265313734
      6566303961386362653765613061626530373164316230360a656365346334626539616666383465
      66333864643030633263313737303231386566336337636265336130386161353433666534373262
      3363333738633164350a303465363062366634663962386337613732386633393830666439626261
      3466
  - name: dns
    type: host
  - name: master1
    type: host
  - name: slave1
    type: host
  - name: slave2
    type: host
  - name: slave3
    type: host

clients:
  regen_keytab: '{{ regen_keytab|default(False) }}'
  sso_services:
    ssh:
      enabled: true # setting it true configures sshd service to authentocate with kerberos
      priviledged_users: ['bob'] #add user principal name in the list to provide root access